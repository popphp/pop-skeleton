#!/usr/bin/php
<?php

require_once __DIR__  . '/../vendor/autoload.php';

$app = new Skeleton\Application();
$app->router()->addRoutes([
    'help' => [
        'controller' => 'Skeleton\Controller\ConsoleController',
        'action'     => 'help',
        'default'    => true
    ],
    'hello <name>' => [
        'controller' => 'Skeleton\Controller\ConsoleController',
        'action'     => 'hello'
    ]
]);

$app->on('app.route.pre', function(){
    echo PHP_EOL;
    echo '  Pop Skeleton CLI' . PHP_EOL;
    echo '  ----------------' . PHP_EOL . PHP_EOL;
});

$app->on('app.dispatch.post', function(){
    echo PHP_EOL;
    echo '  ----------------' . PHP_EOL;
    echo '  Complete!' . PHP_EOL . PHP_EOL;
});

$app->run();
